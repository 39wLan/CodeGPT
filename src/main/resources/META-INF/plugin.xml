<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin require-restart="true">
    <id>ee.carlrobert.chatgpt</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>OpenAI - ChatGPT</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="carlrobertoh@gmail.com" url="https://carlrobert.ee">Carl-Robert Linnupuu</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <p><b>ChatGPT as your copilot to level up your developer experience.</b></p>
    <p>This is the perfect assistant for any programmer who wants to improve their coding skills and make more efficient use of the time.</p>
    <br />
    <span>Available commands</span>
    <ul>
        <li><b>Find bugs:</b> Analyze and find bugs in your code. Right click on a selected block of code, run command.</li>
        <li><b>Add tests:</b> Write tests for you. Right click on a selected block of code, run command.</li>
        <li><b>Refactor:</b> Refactor your code. Right click on a selected block of code, run command.</li>
        <li><b>Optimize:</b> Add suggestions to your code to improve. Right click on a selected block of code, run command.</li>
        <li><b>Explain:</b> Explain the selected code. Right click on a selected block of code, run command.</li>
    </ul>
    <br />
    <p><b>Before using the plugin, it is necessary to configure the API key in the Settings → Tools → ChatGPT</b></p>
  ]]></description>

    <change-notes>
        <![CDATA[
      <ul>
        <li><b>1.0.6</b> Display proper message for insufficient quota</li>
        <li><b>1.0.5</b> Replace TextField with TextArea, remove Tahoma font, increase response max token size</li>
        <li><b>1.0.4</b> Add support for 2023.* build</li>
        <li><b>1.0.3</b> Server-Sent Events</li>
        <li><b>1.0.2</b> Visual changes</li>
        <li><b>1.0.1</b> Design updates and simple missing key notification</li>
        <li><b>1.0.0</b> First release</li>
      </ul>
    ]]>
    </change-notes>

    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="ee.carlrobert.chatgpt.ide.notification.ShowNotificationActivity"/>

        <applicationConfigurable parentId="tools" instance="ee.carlrobert.chatgpt.ide.settings.SettingsConfigurable"
            id="org.intellij.sdk.settings.AppSettingsConfigurable"
            displayName="ChatGPT"/>
        <applicationService serviceImplementation="ee.carlrobert.chatgpt.ide.settings.SettingsState"/>
        <applicationService serviceImplementation="ee.carlrobert.chatgpt.ide.toolwindow.ToolWindowService"/>
        <applicationService serviceImplementation="ee.carlrobert.chatgpt.ide.notification.NotificationService"/>
        <toolWindow id="ChatGPT" secondary="true" icon="AllIcons.General.Modified" anchor="right"
            factoryClass="ee.carlrobert.chatgpt.ide.toolwindow.ChatGptToolWindowFactory"/>

        <notificationGroup id="ChatGPT-Empty-API-Key"
            displayType="STICKY_BALLOON"
            key="ee.carlrobert.chatgpt.ide.notification.key"/>
    </extensions>

    <resource-bundle>messages.BasicActionsBundle</resource-bundle>

    <actions>
        <group id="ee.carlrobert.chatgpt.ide.action.ActionGroup"
            class="ee.carlrobert.chatgpt.ide.action.ActionGroup"
            popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <action id="ee.carlrobert.chatgpt.ide.action.WriteTestsAction" class="ee.carlrobert.chatgpt.ide.action.WriteTestsAction"/>
            <action id="ee.carlrobert.chatgpt.ide.action.FindBugsAction" class="ee.carlrobert.chatgpt.ide.action.FindBugsAction"/>
            <action id="ee.carlrobert.chatgpt.ide.action.RefactorAction" class="ee.carlrobert.chatgpt.ide.action.RefactorAction"/>
            <action id="ee.carlrobert.chatgpt.ide.action.OptimizeAction" class="ee.carlrobert.chatgpt.ide.action.OptimizeAction"/>
            <action id="ee.carlrobert.chatgpt.ide.action.ExplainAction" class="ee.carlrobert.chatgpt.ide.action.ExplainAction"/>
        </group>
        <action
            id="ee.carlrobert.chatgpt.ide.action.AskAction"
            class="ee.carlrobert.chatgpt.ide.action.AskAction"
            text="Ask ChatGPT"
            description="TBD"
            icon="SdkIcons.Sdk_default_icon">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
    </actions>
</idea-plugin>

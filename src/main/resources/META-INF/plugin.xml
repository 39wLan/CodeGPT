<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>ee.carlrobert.chatgpt</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>OpenAI - ChatGPT</name>

    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="carlrobertoh@gmail.com" url="https://carlrobert.ee">Carl-Robert Linnupuu</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <description><![CDATA[
    <b>ChatGPT as your copilot to level up your developer experience</b>
    <br />
    <br />
    <p>Available commands</p>
    <ul>
        <li><b>Find bugs:</b> Analyze and find bugs in your code. Right click on a selected block of code, run command.</li>
        <li><b>Add tests:</b> Write tests for you. Right click on a selected block of code, run command.</li>
        <li><b>Refactor:</b> Refactor your code. Right click on a selected block of code, run command.</li>
        <li><b>Optimize:</b> Add suggestions to your code to improve. Right click on a selected block of code, run command.</li>
        <li><b>Explain:</b> Explain the selected code. Right click on a selected block of code, run command.</li>
    </ul>
    <br />
    <b>Before using the plugin, you need to set up the API key in Settings -> Tools -> ChatGPT</b>
  ]]></description>

    <change-notes>
        <![CDATA[
      <ul>
        <li><b>1.0.1</b> Design updates and simple missing key notification</li>
        <li><b>1.0.0</b> First release</li>
      </ul>
    ]]>
    </change-notes>

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="ee.carlrobert.chatgpt.ShowNotificationActivity"/>

        <applicationConfigurable parentId="tools" instance="ee.carlrobert.chatgpt.SettingsConfigurable"
            id="org.intellij.sdk.settings.AppSettingsConfigurable"
            displayName="ChatGPT"/>
        <applicationService serviceImplementation="ee.carlrobert.chatgpt.SettingsState"/>
        <applicationService serviceImplementation="ee.carlrobert.chatgpt.service.ToolWindowService"/>
        <toolWindow id="ChatGPT" secondary="true" icon="AllIcons.General.Modified" anchor="right"
            factoryClass="ee.carlrobert.chatgpt.toolwindow.ChatGptToolWindowFactory"/>

        <notificationGroup id="ChatGPT-Empty-API-Key"
            displayType="STICKY_BALLOON"
            key="ee.carlrobert.chatgpt.notification.key"/>
    </extensions>

    <resource-bundle>messages.BasicActionsBundle</resource-bundle>

    <actions>
        <group id="ee.carlrobert.chatgpt.action.ActionGroup"
            class="ee.carlrobert.chatgpt.action.ActionGroup"
            popup="true">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
            <action id="ee.carlrobert.chatgpt.action.WriteTestsAction" class="ee.carlrobert.chatgpt.action.WriteTestsAction"/>
            <action id="ee.carlrobert.chatgpt.action.FindBugsAction" class="ee.carlrobert.chatgpt.action.FindBugsAction"/>
            <action id="ee.carlrobert.chatgpt.action.RefactorAction" class="ee.carlrobert.chatgpt.action.RefactorAction"/>
            <action id="ee.carlrobert.chatgpt.action.OptimizeAction" class="ee.carlrobert.chatgpt.action.OptimizeAction"/>
            <action id="ee.carlrobert.chatgpt.action.ExplainAction" class="ee.carlrobert.chatgpt.action.ExplainAction"/>
        </group>
        <action
            id="ee.carlrobert.chatgpt.action.AskAction"
            class="ee.carlrobert.chatgpt.action.AskAction"
            text="Ask ChatGPT"
            description="TBD"
            icon="SdkIcons.Sdk_default_icon">
            <add-to-group group-id="EditorPopupMenu" anchor="first"/>
        </action>
    </actions>
</idea-plugin>
